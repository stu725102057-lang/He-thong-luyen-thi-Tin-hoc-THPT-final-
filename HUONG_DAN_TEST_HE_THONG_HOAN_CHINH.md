# ğŸ§ª HÆ¯á»šNG DáºªN TEST Há»† THá»NG - SESSION HOÃ€N THÃ€NH 100%

## ğŸš€ Server Ä‘Ã£ khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng!
**URL:** http://127.0.0.1:8000

---

## ğŸ“‹ CHECKLIST TEST CÃC TÃNH NÄ‚NG Má»šI

### ğŸ¯ Test 1: ÄÄ‚NG NHáº¬P GIÃO VIÃŠN
**TÃ i khoáº£n test:**
- **Username:** `giaovien1`
- **Password:** `password`

**CÃ¡c bÆ°á»›c:**
1. âœ… Má»Ÿ http://127.0.0.1:8000
2. âœ… Nháº­p username: `giaovien1`
3. âœ… Nháº­p password: `password`
4. âœ… Click "ÄÄƒng nháº­p"
5. âœ… Kiá»ƒm tra menu hiá»ƒn thá»‹ 4 items:
   - Quáº£n lÃ½ cÃ¢u há»i
   - Táº¡o Ä‘á» thi
   - **Táº¡o Ä‘á» thá»§ cÃ´ng** â­ Má»šI
   - **Thá»‘ng kÃª lá»›p há»c** â­ Má»šI

---

### ğŸ¯ Test 2: QUáº¢N LÃ CÃ‚U Há»I (UR-03.1 & UR-03.2)

#### Test EDIT cÃ¢u há»i â­ Má»šI
1. Click menu "**Quáº£n lÃ½ cÃ¢u há»i**"
2. TÃ¬m cÃ¢u há»i báº¥t ká»³ trong báº£ng
3. Click button **Edit** (icon âœï¸ pencil) á»Ÿ cá»™t "Thao tÃ¡c"
4. âœ… **Modal "Sá»­a cÃ¢u há»i"** hiá»‡n ra vá»›i:
   - Ná»™i dung cÃ¢u há»i Ä‘Ã£ Ä‘iá»n sáºµn
   - 4 Ä‘Ã¡p Ã¡n (A, B, C, D) Ä‘Ã£ Ä‘iá»n sáºµn
   - ÄÃ¡p Ã¡n Ä‘Ãºng Ä‘Æ°á»£c chá»n
   - Äá»™ khÃ³ hiá»‡n táº¡i
5. Thay Ä‘á»•i ná»™i dung cÃ¢u há»i (vÃ­ dá»¥: thÃªm text "- ÄÃƒ Sá»¬A")
6. Click "**Cáº­p nháº­t cÃ¢u há»i**"
7. âœ… ThÃ´ng bÃ¡o thÃ nh cÃ´ng mÃ u xanh
8. âœ… Báº£ng cÃ¢u há»i tá»± Ä‘á»™ng refresh
9. âœ… CÃ¢u há»i vá»«a sá»­a hiá»ƒn thá»‹ ná»™i dung má»›i

#### Test EXPORT cÃ¢u há»i â­ Má»šI
1. á» mÃ n hÃ¬nh "Quáº£n lÃ½ cÃ¢u há»i"
2. PhÃ­a trÃªn báº£ng, tÃ¬m 2 nÃºt:
   - **Xuáº¥t CSV** ğŸ“¥
   - **Xuáº¥t PDF** ğŸ“¥
3. Click "**Xuáº¥t CSV**"
4. âœ… File `questions.csv` tá»± Ä‘á»™ng download
5. Má»Ÿ file CSV, kiá»ƒm tra cÃ³ Ä‘áº§y Ä‘á»§ cá»™t:
   - MÃ£ cÃ¢u há»i, Ná»™i dung, ÄÃ¡p Ã¡n A-D, ÄÃ¡p Ã¡n Ä‘Ãºng, Äá»™ khÃ³
6. Click "**Xuáº¥t PDF**"
7. âœ… File `questions.pdf` tá»± Ä‘á»™ng download

---

### ğŸ¯ Test 3: Táº O Äá»€ THI THá»¦ CÃ”NG (UR-03.3) â­â­â­ TÃNH NÄ‚NG Má»šI

#### Giao diá»‡n 2 panel:
1. Click menu "**Táº¡o Ä‘á» thá»§ cÃ´ng**"
2. âœ… MÃ n hÃ¬nh split 2 cá»™t:
   - **BÃªn trÃ¡i:** Báº£ng cÃ¢u há»i vá»›i checkbox
   - **BÃªn pháº£i:** Sidebar cÃ¢u há»i Ä‘Ã£ chá»n + Form

#### Test chá»n cÃ¢u há»i:
1. **Chá»n tá»«ng cÃ¢u:**
   - Click checkbox á»Ÿ 3 cÃ¢u há»i báº¥t ká»³
   - âœ… Sidebar bÃªn pháº£i hiá»ƒn thá»‹ 3 cÃ¢u Ä‘Ã£ chá»n
   - âœ… Sá»‘ Ä‘áº¿m cáº­p nháº­t: "ÄÃ£ chá»n: 3 cÃ¢u"
   - âœ… Button "Táº¡o Ä‘á» thi" Ä‘á»•i thÃ nh: "Táº¡o Ä‘á» thi (3 cÃ¢u)"
   - âœ… Button chuyá»ƒn tá»« disabled â†’ enabled (mÃ u xanh)

2. **Bá» chá»n:**
   - Click láº¡i checkbox 1 cÃ¢u
   - âœ… CÃ¢u Ä‘Ã³ biáº¿n máº¥t khá»i sidebar
   - âœ… Sá»‘ Ä‘áº¿m giáº£m: "ÄÃ£ chá»n: 2 cÃ¢u"

3. **XÃ³a tá»« sidebar:**
   - Click icon âŒ á»Ÿ sidebar
   - âœ… CÃ¢u há»i bá»‹ xÃ³a khá»i danh sÃ¡ch
   - âœ… Checkbox trong báº£ng tá»± Ä‘á»™ng bá» chá»n

4. **Filter:**
   - Chá»n "NgÃ¢n hÃ ng cÃ¢u há»i" hoáº·c "Äá»™ khÃ³"
   - Click "Lá»c"
   - âœ… Báº£ng chá»‰ hiá»ƒn thá»‹ cÃ¢u há»i phÃ¹ há»£p

#### Test táº¡o Ä‘á» thi:
1. Chá»n Ã­t nháº¥t 5 cÃ¢u há»i
2. Äiá»n form bÃªn pháº£i:
   - **TÃªn Ä‘á»:** "Äá» thi thá»§ cÃ´ng test - NgÃ y 8/12/2025"
   - **MÃ´n há»c:** "Tin há»c" (máº·c Ä‘á»‹nh)
   - **Thá»i gian:** 60 phÃºt
   - **MÃ´ táº£:** "Äá» test tÃ­nh nÄƒng má»›i"
3. Click "**Táº¡o Ä‘á» thi (5 cÃ¢u)**"
4. âœ… Loading spinner hiá»ƒn thá»‹
5. âœ… ThÃ´ng bÃ¡o thÃ nh cÃ´ng: "Táº¡o Ä‘á» thi thÃ nh cÃ´ng vá»›i 5 cÃ¢u há»i!"
6. âœ… Form reset vá» trá»‘ng
7. âœ… Sidebar xÃ³a háº¿t cÃ¢u há»i Ä‘Ã£ chá»n
8. âœ… Checkbox trong báº£ng reset

#### Verify trong database:
```sql
-- Kiá»ƒm tra Ä‘á» thi vá»«a táº¡o
SELECT * FROM DeThi 
WHERE TenDe LIKE '%thá»§ cÃ´ng test%' 
ORDER BY NgayTao DESC 
LIMIT 1;

-- Kiá»ƒm tra chi tiáº¿t cÃ¢u há»i (thay MaDe báº±ng mÃ£ vá»«a láº¥y)
SELECT ct.*, c.NoiDung 
FROM ChiTietDeThi ct
JOIN CauHoi c ON ct.MaCH = c.MaCH
WHERE ct.MaDe = 'DE004'  -- Thay báº±ng MaDe thá»±c táº¿
ORDER BY ct.STT;
```

---

### ğŸ¯ Test 4: THá»NG KÃŠ Lá»šP Há»ŒC (UR-03.5) â­â­â­ TÃNH NÄ‚NG Má»šI

#### Giao diá»‡n Dashboard:
1. Click menu "**Thá»‘ng kÃª lá»›p há»c**"
2. âœ… Hiá»ƒn thá»‹ 4 cards tá»•ng quan:
   - **Card 1 (xanh dÆ°Æ¡ng):** "Tá»•ng há»c sinh" - Sá»‘ lÆ°á»£ng
   - **Card 2 (xanh lam):** "Äiá»ƒm trung bÃ¬nh" - Äiá»ƒm TB lá»›p
   - **Card 3 (xanh lÃ¡):** "Tá»· lá»‡ Ä‘áº¡t" - % há»c sinh >= 5 Ä‘iá»ƒm
   - **Card 4 (vÃ ng):** "Tá»•ng bÃ i thi" - Sá»‘ bÃ i thi Ä‘Ã£ hoÃ n thÃ nh

#### Test Top 5 há»c sinh:
3. âœ… **Báº£ng "Top 5 há»c sinh giá»i nháº¥t":**
   - Header mÃ u xanh lÃ¡ vá»›i icon ğŸ†
   - 5 há»c sinh cÃ³ Ä‘iá»ƒm TB cao nháº¥t
   - Cá»™t: #, TÃªn, Äiá»ƒm TB (mÃ u xanh Ä‘áº­m), Sá»‘ bÃ i thi
   - HÃ ng 1 cÃ³ badge vÃ ng sá»‘ thá»© tá»±

4. âœ… **Báº£ng "Top 5 há»c sinh cáº§n há»— trá»£":**
   - Header mÃ u Ä‘á» vá»›i icon âš ï¸
   - 5 há»c sinh cÃ³ Ä‘iá»ƒm TB tháº¥p nháº¥t
   - Äiá»ƒm TB hiá»ƒn thá»‹ mÃ u Ä‘á»

#### Test biá»ƒu Ä‘á»“ Chart.js:
5. âœ… **Biá»ƒu Ä‘á»“ "PhÃ¢n bá»‘ Ä‘iá»ƒm sá»‘":**
   - Header mÃ u xanh dÆ°Æ¡ng vá»›i icon ğŸ“Š
   - Biá»ƒu Ä‘á»“ cá»™t (bar chart)
   - **6 cá»™t mÃ u gradient:**
     1. Äá»: KÃ©m (0-2 Ä‘iá»ƒm)
     2. VÃ ng: Yáº¿u (2-4 Ä‘iá»ƒm)
     3. XÃ¡m: Trung bÃ¬nh (4-5 Ä‘iá»ƒm)
     4. Xanh lam: KhÃ¡ (5-6.5 Ä‘iá»ƒm)
     5. Xanh ngá»c: KhÃ¡ Giá»i (6.5-8 Ä‘iá»ƒm)
     6. Xanh lÃ¡: Giá»i (8-10 Ä‘iá»ƒm)
   - Hover vÃ o cá»™t hiá»ƒn thá»‹ tooltip: "Sá»‘ HS: X"
   - Trá»¥c Y: Sá»‘ há»c sinh (step = 1)

#### Test báº£ng chi tiáº¿t:
6. âœ… **Báº£ng "Chi tiáº¿t toÃ n bá»™ há»c sinh":**
   - 8 cá»™t: STT, TÃªn, Email, Äiá»ƒm TB, Max, Min, Sá»‘ bÃ i thi, Tráº¡ng thÃ¡i
   - **Badge tráº¡ng thÃ¡i:**
     - Xanh: "Äáº¡t" (Ä‘iá»ƒm TB >= 5)
     - Äá»: "ChÆ°a Ä‘áº¡t" (Ä‘iá»ƒm TB < 5)
     - XÃ¡m: "ChÆ°a thi" (chÆ°a lÃ m bÃ i nÃ o)
   - Sáº¯p xáº¿p theo Ä‘iá»ƒm TB giáº£m dáº§n
   - Table striped (dÃ²ng xÃ¡m/tráº¯ng xen káº½)
   - Hover effect (ná»n xÃ¡m nháº¡t khi hover)

#### Test data accuracy:
7. **Verify sá»‘ liá»‡u:**
   - Tá»•ng há»c sinh = sá»‘ dÃ²ng trong báº£ng chi tiáº¿t
   - Äiá»ƒm TB card = Average cá»§a cá»™t "Äiá»ƒm TB"
   - Tá»· lá»‡ Ä‘áº¡t = (Sá»‘ badge xanh "Äáº¡t" / Tá»•ng Ä‘Ã£ thi) Ã— 100%
   - Tá»•ng cá»™t biá»ƒu Ä‘á»“ = Sá»‘ há»c sinh Ä‘Ã£ thi

---

### ğŸ¯ Test 5: KIá»‚M TRA API ENDPOINTS

#### Test API Manual Exam:
```bash
# Test táº¡o Ä‘á» thá»§ cÃ´ng qua API
curl -X POST http://127.0.0.1:8000/api/de-thi/manual \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "TenDe": "API Test Exam",
    "ChuDe": "Tin há»c",
    "ThoiGianLamBai": 45,
    "MoTa": "Test qua API",
    "DanhSachCauHoi": ["CH001", "CH002", "CH003"]
  }'
```

**Expected response:**
```json
{
  "success": true,
  "message": "Táº¡o Ä‘á» thi thá»§ cÃ´ng thÃ nh cÃ´ng",
  "data": {
    "MaDe": "DE005",
    "TenDe": "API Test Exam",
    "SoLuongCauHoi": 3,
    "ThoiGianLamBai": 45,
    "DanhSachCauHoi": ["CH001", "CH002", "CH003"]
  }
}
```

#### Test API Class Statistics:
```bash
# Test thá»‘ng kÃª lá»›p há»c qua API
curl -X GET http://127.0.0.1:8000/api/thong-ke/lop-hoc \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**Expected response structure:**
```json
{
  "success": true,
  "message": "Láº¥y thá»‘ng kÃª lá»›p há»c thÃ nh cÃ´ng",
  "data": {
    "summary": {
      "totalStudents": 10,
      "studentsWithScores": 8,
      "averageScore": 7.25,
      "passRate": 75.5,
      "totalExams": 45
    },
    "topStudents": [...],
    "weakStudents": [...],
    "scoreDistribution": [...],
    "studentDetails": [...]
  }
}
```

---

## ğŸ› TROUBLESHOOTING

### Náº¿u mÃ n hÃ¬nh tráº¯ng:
```bash
php artisan cache:clear
php artisan view:clear
php artisan config:clear
```

### Náº¿u API 500 error:
```bash
# Kiá»ƒm tra logs
tail -f storage/logs/laravel.log

# Kiá»ƒm tra database connection
php artisan migrate:status
```

### Náº¿u Chart.js khÃ´ng render:
1. Má»Ÿ Developer Console (F12)
2. Kiá»ƒm tra error: "Chart is not defined"
3. Verify CDN load thÃ nh cÃ´ng:
   ```html
   <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
   ```

### Náº¿u checkbox khÃ´ng hoáº¡t Ä‘á»™ng:
1. Má»Ÿ Console (F12)
2. Check error: `app.toggleQuestionSelection is not a function`
3. Verify window.app initialized:
   ```javascript
   console.log(window.app);
   console.log(window.app.selectedQuestions);
   ```

---

## âœ… CHECKLIST HOÃ€N THÃ€NH

### UR-03.1 - CRUD CÃ¢u há»i:
- [ ] Edit modal hiá»ƒn thá»‹ Ä‘Ãºng
- [ ] Pre-fill data chÃ­nh xÃ¡c
- [ ] Update thÃ nh cÃ´ng
- [ ] Table refresh sau update

### UR-03.2 - Export:
- [ ] CSV download thÃ nh cÃ´ng
- [ ] PDF download thÃ nh cÃ´ng
- [ ] File cÃ³ Ä‘áº§y Ä‘á»§ data

### UR-03.3 - Táº¡o Ä‘á» thá»§ cÃ´ng:
- [ ] Checkbox chá»n cÃ¢u há»i
- [ ] Sidebar cáº­p nháº­t real-time
- [ ] Filter hoáº¡t Ä‘á»™ng
- [ ] Táº¡o Ä‘á» thÃ nh cÃ´ng
- [ ] Database lÆ°u Ä‘Ãºng

### UR-03.5 - Thá»‘ng kÃª lá»›p há»c:
- [ ] 4 cards hiá»ƒn thá»‹ sá»‘ liá»‡u
- [ ] Top 5 tables render Ä‘Ãºng
- [ ] Chart.js váº½ biá»ƒu Ä‘á»“
- [ ] Báº£ng chi tiáº¿t 8 cá»™t
- [ ] Badge tráº¡ng thÃ¡i Ä‘Ãºng mÃ u

---

## ğŸ“Š Káº¾T QUáº¢ MONG Äá»¢I

### ThÃ nh cÃ´ng 100% khi:
âœ… Táº¥t cáº£ 4 tÃ­nh nÄƒng má»›i hoáº¡t Ä‘á»™ng khÃ´ng lá»—i
âœ… UI/UX mÆ°á»£t mÃ , khÃ´ng lag
âœ… Data hiá»ƒn thá»‹ chÃ­nh xÃ¡c
âœ… API tráº£ vá» Ä‘Ãºng format JSON
âœ… Database lÆ°u trá»¯ Ä‘Ãºng

### Há»‡ thá»‘ng production-ready khi:
âœ… KhÃ´ng cÃ³ PHP errors
âœ… KhÃ´ng cÃ³ JavaScript console errors
âœ… Chart.js render mÆ°á»£t
âœ… Mobile responsive (Bootstrap)
âœ… Loading states hoáº¡t Ä‘á»™ng

---

**ğŸ‰ ChÃºc má»«ng! Há»‡ thá»‘ng Ä‘Ã£ hoÃ n thiá»‡n 100%!**

**Test ngay táº¡i:** http://127.0.0.1:8000
**Login:** giaovien1 / password
